{"version":3,"sources":["./web/comfytwitch.js"],"names":["async","checkForTwitchToken","accessToken","localStorage","getItem","result","validateTwitchToken","login","token","refreshToken","comfyTwitchAuth","refreshUrl","Error","tokenData","fetch","then","r","json","access_token","setItem","refresh_token","err","console","error","checkTwitchTokenLocalStorage","nonce","URLSearchParams","location","search","get","storedNonce","window","checkAuthState","accessCode","hash","replace","codeAuthUrl","url","href","split","checkTwitchTokenURL","headers","Authorization","catch","UserId","User","ClientID","Token","Scopes","Logout","removeItem","Login","clientId","redirectURI","scopes","type","state","charset","crypto","getRandomValues","Uint8Array","forEach","c","push","length","join","generateNonce","encodeURIComponent","SetAuthEndpoint","codeToTokenUrl","SetRefreshEndpoint","tokenRefreshUrl","Check","client_id","user_id","GetUser","userId","Client-ID","ComfyTwitch"],"mappings":"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"}